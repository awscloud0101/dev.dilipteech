@model List<AsteriskBrowserAL.Models.HomeWorkData>



<div class="hr hr-18 dotted hr-double"></div>


@if (null != Model)
{
    if (null != Model && Model.Count() > 0)
    {
        int Sno = 1;

        <div class="table-header">
            Records Found (@Model.Count())
            <div style="float:right">

                @*<button class="btn btn-info btn-xs" id="btnExport">
                    <i class="ace-icon fa fa-share bigger-180"></i>
                </button>*@

            </div>
        </div>
        <table class="table tbhover table-striped table-bordered dynamic-table" style="font-size:14px;">
            <thead>
                <tr>
                    <th>
                       S.No.
                    </th>
                    <th>
                        @Html.DisplayName("Class")
                    </th>
                    <th>
                        @Html.DisplayName("Topic Name")
                    </th>
                    @*<th>
                        @Html.DisplayName("Description")
                    </th>*@
                    <th>
                        @Html.DisplayName("From Date")
                    </th>
                    <th>
                        @Html.DisplayName("To Date")
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                <tr>
                    <td>
                        @(Sno++)
                    </td>
                    <td>
                        @item.ClassName
                    </td>
                    <td>
                        @item.Title
                    </td>
                    @*<td>
                        @Html.Raw(item.Discription)
                    </td>*@
                    <td>
                        @item.FromDate.ToString("dd - MMM - yyyy")
                    </td>
                    <td>
                        @item.ToDate.ToString("dd - MMM - yyyy")
                    </td>

                    @if (item.AttachmentName != null)
                    {

                        <td>

                            <a href="@item.AttachmentName" target="_blank">Download</a>
                        </td>
                    }
                    else
                    {
                        <td></td>
                    }
                    @if (item.isparent == true)
                    {
                        <td>
                            <a href="@Url.Action("DownloadFile", "Common",new {file=item.AttachmentName })">Download</a>
                        </td>
                    }
                    else
                    {
                        <td>
                            <div class="hidden-sm hidden-xs action-buttons">
                                <a class="green" href="@Url.Action("HomeWorkE", "AStudent", new { HomeWorkId = item.HomeWorkId, CourseId = item.CourseId, SectionId = item.SectionId })">
                                    <i class="ace-icon fa fa-pencil bigger-130"></i>
                                </a>
                                <a class="blue" href="@Url.Action("HomeWorkDet", "AStudent", new { HomeWorkId = item.HomeWorkId, CourseId = item.CourseId, SectionId = item.SectionId })">
                                    <i class="ace-icon fa fa-info-circle bigger-130"></i>
                                </a>
                            </div>
                        </td>
                    }

                </tr>
                }

            </tbody>
        </table>
    }
    else
    {
        <div style="color:red;font-weight:bold">Data not available to display</div>
    }
}
else
{
    <div style="color:red;font-weight:bold">Data not available to display</div>
}

@Html.Action("DataTableScripts", "Base")




@*<body>
        <div id="mydiv" style="display:none">

            @if (null != Model)
            {

                if (null != Model.MicroScheduleDetailsData && Model.MicroScheduleDetailsData.Count() > 0)
                {
                    int nsno = 1;

                    <div class="row">
                        <div class="col-xs-12">
                            <img class=" col-xs-11" id="avatar" width="50" height="43" src="@Model.InstituteDetails.InstituteLogo" style="margin-bottom:-1.5em;" />
                            <b style="font-weight:bold; margin-left:0.3em; font-size:20px; font-family:'Segoe UI'">@Model.InstituteDetails.InstituteName</b>
                        </div>
                        <div style="margin-left:3.7em; font-family:'Segoe UI'"><b>@Model.InstituteDetails.InstituteAddress</b></div>
                        <br />

                        <hr style="width:100%; margin-bottom:-0.5em" />
                        <hr style="width:100%;" />
                        <div align="center" style="font:12%; font-family:'Segoe UI'"><b>Micro-Schedule Report </b></div>
                        <hr style="width:100%;" />

                        @foreach (var g in GroupedData)
                        {
                            <hr style="width:100%; margin-top:-0.5em" />

                            <div align="left" style="font-weight:bold; margin-left:0.4em; font-family:'Segoe UI'; font-size:14px;"><b>@g.Key</b></div>
                            <hr style="width:100%;" />
                        }
                        <div class="col-xs-12 box-body table-responsive">
                            <table class="table table-hover" rules="rows" cellpadding="5" style="width:675px; font-size:12px;">

                                <tbody>
                                    <tr style="font-size:13px; font-family:'Segoe UI'; font-weight:bold; text-align:left;">
                                        <th>
                                           S.No.
                                        </th>
                                        @if (Model.IsCentral)
                                        {
                                            <th>
                                                @Html.DisplayName("Branch Name")
                                            </th>
                                        }

                                        <th>
                                            @Html.DisplayName("Topic Name")
                                        </th>

                                        <th>
                                            @Html.DisplayName("Date")
                                        </th>

                                    </tr>


                                    @foreach (var item in Model.MicroScheduleDetailsData)
                                    {
                                        <tr>
                                            <td>
                                                @(nsno++)
                                            </td>
                                            @if (Model.IsCentral)
                                            {
                                                <td>
                                                    @item.BranchName
                                                </td>
                                            }


                                            <td>
                                                @item.Topic
                                            </td>
                                            <td>
                                                @item.SyllabusDate.Value.ToString("dd - MMM - yyyy")
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>



                    </div>
                }

            }


        </div>
    </body>*@

<script type="text/javascript">

    //$("#btnExport").click(function (e) {
    //    ExportToExcel('tbMicroScheduleReport');
    //});

    function PrintElem(elem) {

        Popup($(elem).html());
    }

    function Popup(data) {
        var mywindow = window.open('', 'my div', 'height=300,width=600');
        mywindow.document.write('<p></p>');
        mywindow.document.write(data);
        mywindow.document.write('<p></p>');

        mywindow.document.close();
        mywindow.focus();

        mywindow.print();
        mywindow.close();
        return true;
    }
</script>

<script type="text/javascript">
    function PrintElem(elem) {
        Popup($(elem).html());
    }

    function Popup(data) {
        var mywindow = window.open('', 'mydiv', 'height=300,width=600');
        mywindow.document.write('<p></p>');
        mywindow.document.write(data);
        mywindow.document.write('<p></p>');

        mywindow.document.close();
        mywindow.focus();

        mywindow.print();
        mywindow.close();
        return true;
    }
</script>








