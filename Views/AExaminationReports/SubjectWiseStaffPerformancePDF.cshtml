@model AsteriskBrowserAL.Models.ExaminationResultsData

@{
    Layout = null;
    int sno = 1;
}

<style>
    table {
        page-break-after: auto;
    }

    tr {
        page-break-inside: avoid;
        page-break-after: auto;
    }

    td {
        page-break-inside: avoid;
        page-break-after: auto;
    }

    thead {
        display: table-header-group;
    }

    tfoot {
        display: table-footer-group;
    }
</style>

@if (null != Model)
{
    if (Model.lstResults.Count() > 0)
    {
        <div class="row">
            <div class="col-lg-12" style="margin-top:1em;">
                <table class="table tbhover table-striped table-bordered dynamic-table" style="font-size:19px;width:100%;border-collapse:collapse" border="1">
                    <thead>
                        <tr>
                            <td colspan="8">
                                <div class="row">
                                    <div style="margin-left:0em;font-size:19px;font-weight:bold;margin-top:1em;">
                                        <table width="100%">
                                            <tr>
                                                <td align="center" style="width:33px;font-weight:bold">
                                                    <span style="font-size:32px;font-weight:bold">@Model.InstituteName</span><br />
                                                </td>
                                            </tr>
                                      </table>
                                    </div>
                                    @*<div style="margin-left:0em;font-size:19px;font-weight:bold;margin-top:1em;">
                                        <table width="100%">
                                            <tr>
                                                <td align="left" style="width:33px;font-weight:bold">Section : @Model.lstResults.FirstOrDefault().SectionName </td>
                                                @if (Model.Percent > 0)
                                                {
                                                    <td align="right" style="width:33px;font-weight:bold">Percentage : @Model.Percent</td>
                                                }
                                                else
                                                {
                                                    <td align="right" style="width:33px;font-weight:bold">Date : @DateTime.Today.ToString("dd-MMM-yyyy")</td>
                                                }
                                            </tr>
                                        </table>
                                    </div>*@
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th>
                                @Html.DisplayName("SNo")
                            </th>
                            <th>
                                @Html.DisplayName("Staff Name")
                            </th>
                            <th>
                                @Html.DisplayName("Employee Number")
                            </th>
                            <th>
                                @Html.DisplayName("Branch")
                            </th>
                            <th>
                                @Html.DisplayName("Section")
                            </th>
                            <th>
                                @Html.DisplayName("Exam")
                            </th>

                            @if (Model.Percent == 0)
                            {
                                <th>
                                    @Html.DisplayName("Percentile")
                                </th>
                            }
                            else
                            {
                                <th>
                                    @Html.DisplayName("Percentile")
                                </th>
                            }
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.lstResults)
                        {
                            <tr>
                                <td>
                                    @(sno++)
                                </td>
                                <td>
                                    @item.StaffName
                                </td>

                                <td>
                                    @item.EmployeeNumber
                                </td>
                                <td>
                                    @item.BranchName
                                </td>
                                <td>
                                    @item.SectionName
                                </td>
                                <td>
                                    @item.ExamName
                                </td>

                                <td>@item.MarksScored</td>
                            </tr>
                        }
                    </tbody>
                </table>

            </div>
        </div>
    }
    else
    {
        <span style="color:red;font-weight:bold"> Data not available</span>
    }

}