@model List<AsteriskBrowserAL.Models.MicroScheduleData>
@{
    Layout = null;
}

<link rel="stylesheet" href="~/assets/css/jquery-ui.min.css" />
<script src="~/assets/js/jquery-ui.min.js"></script>
<script src="~/assets/js/jquery.ui.touch-punch.min.js"></script>

<div id="dialogueupload" style="display:none"> </div>

<style>
    @@font-face {
        font-family: 'ANUPM___';
        src: url('../../assets/fonts/ANUPM___.TTF') format('truetype');
    }

    .AnuFont {
        font-family: ANUPM___;
        font-size: 20px;
    }

    @@font-face {
        font-family: 'NEOGANLI';
        src: url('../../assets/fonts/NEOGANLI.TTF') format('truetype');
    }

    .NEOGANLI {
        font-family: NEOGANLI;
        font-size: 20px;
    }
</style>

<section class="content">
  
    <div class="row">
        <div class="col-xs-12">

            @using (Html.BeginForm("SaveSyllabus", "AMicroSchedule", FormMethod.Post, new { id = "FrmSaveConcession" }))
            {
                <input type="hidden" name="UploadTypeName" />

                <span id="Validation" style="color:red;font-weight:bold;"></span>

                if (Model != null && Model.Count() > 0)
                {
                    int sno = 1;

                    <div class="row">
                        <div class="col-xs-12">

                            <div class="table-header">
                                Records Found (@Model.Count())
                                <div style="float:right;margin-right:10px;">
                                    <div class="">
                                        <button type="submit" class="btncustom" onclick="return Submit();">
                                          Save
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="overflowscroll">

                                <table class="table tbhover table-striped table-bordered dynamic-table" style="font-size:14px;">
                                    <thead>
                                        <tr>
                                            <th>
                                                S.No.
                                            </th>
                                            <th>
                                                @Html.DisplayName("Branch Name")
                                            </th>
                                            <th>
                                                @Html.DisplayName("Class Name")
                                            </th>
                                            <th>
                                                @Html.DisplayName("Exam Number")
                                            </th>
                                            <th>
                                                @Html.DisplayName("Subject Name")
                                            </th>

                                            <th>
                                                @Html.DisplayName("Date")
                                            </th>
                                            <th>
                                                @Html.DisplayName("Topic Name")
                                            </th>

                                        </tr>
                                    </thead>
                                    <tbody>
                                        @for (int i = 0; i < Model.Count(); i++)
                                        {
                                            <tr>
                                                @Html.Hidden("LstData.Index", (@i))
                                                @Html.Hidden("LstData[" + (@i) + "].BranchName", Model.ElementAt(i).BranchName)
                                                @Html.Hidden("LstData[" + (@i) + "].ClassName", Model.ElementAt(i).ClassName)
                                                @Html.Hidden("LstData[" + (@i) + "].ExamName", Model.ElementAt(i).ExamName)
                                                @Html.Hidden("LstData[" + (@i) + "].SubjectName", Model.ElementAt(i).SubjectName)
                                                @Html.Hidden("LstData[" + (@i) + "].Date", Model.ElementAt(i).Date)
                                                @Html.Hidden("LstData[" + (@i) + "].Topic", Model.ElementAt(i).Topic)

                                                <td>
                                                    @(sno++)
                                                </td>
                                                <td>
                                                    @Model.ElementAt(i).BranchName
                                                </td>
                                                <td>
                                                    @Model.ElementAt(i).ClassName
                                                </td>
                                                <td>
                                                    @Model.ElementAt(i).ExamName
                                                </td>
                                                <td>
                                                    @Model.ElementAt(i).SubjectName
                                                </td>
                                                <td>
                                                    @Model.ElementAt(i).Date
                                                </td>
                                                <td>
                                                    @if (Model.ElementAt(i).SubjectName.ToUpper().Contains("TELUGU"))
                                                    {
                                                        <span class="AnuFont">@Model.ElementAt(i).Topic</span>
                                                    }
                                                    else if (Model.ElementAt(i).SubjectName.ToUpper().Contains("HINDI"))
                                                    {
                                                        <span class="NEOGANLI">@Model.ElementAt(i).Topic</span>
                                                    }
                                                    else
                                                    {
                                                        @Model.ElementAt(i).Topic
                                                    }
                                                </td>
                                            </tr>

                                        }
                                    </tbody>
                                </table>
                            </div>

                            @Html.Action("DataTableScripts", "Base", new { IsPaging = false, AllowScroll = true })

                        </div>
                    </div>

                }
            }
        </div>
    </div>
</section>

<script type="text/javascript">

    function Submit() {

        ConcessionUploadConfirmation();
        return false;
    }

    function ConcessionUploadConfirmation() {

        //var TypeName = $("#CboUploadType option:selected").text();
        //$('[name=UploadTypeName]').val(TypeName);

        $('#dialogueupload').html(' <div class="space-6"></div> <p> <b> Are you sure to update the Micro Plans ? <b> </p>');

        var $dialog = $('#dialogueupload')
          .dialog({
              resizable: false,
              draggable: false,
              width: '400',
              modal: true,
              title: 'Confirmation',
              open: function (event, ui) {
                  $(".ui-dialog-titlebar-close", ui.dialog | ui).hide();
              },
              title_html: true,
              buttons: [
                  {
                      html: "Yes",
                      "class": "btn btn-danger btn-minier",
                      click: function () {
                          $(this).dialog('close');
                          $('#imagemodal').show();
                          $('#FrmSaveConcession').submit();
                      }
                  },
                  {
                      html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; No ",
                      "class": "btn btn-minier",
                      click: function () {
                          $(this).dialog('close');
                      }
                  }
              ]
          });
    }


</script>
