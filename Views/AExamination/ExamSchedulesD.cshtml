@model AsteriskBrowserAL.Examinations

@{
    ViewBag.Title = "ExamSchedulesD";
}

@section BreadCrumb{
    <ul class="breadcrumb">
        <li>
            <i class="menu-icon fa fa-list"></i>
            Academics
        </li>
        <li>
            <i class=""></i>
            Examinations
        </li>
        <li class="active">Exam Schedules</li>
    </ul><!-- /.breadcrumb -->
}


<section class="content">
    <div class="row">
        <div class="col-xs-12">
            <h3>@Html.ActionLink("<< Exam Schedules Details", "ExamSchedules", new { ClassNumber = Model.ClassNumber, TermNumber = Model.TermNumber })</h3>
        </div>
    </div>
    <br />
    <span style="color: red;">
        <b>Are you sure you want to delete this?</b>
    </span>
    @using (Html.BeginForm("ExamSchedulesD", "AExamination", FormMethod.Post, new { @class = "form-horizontal" }))
    {
        <span id="Validation" style="color:red;font-weight:bold"></span>

        <input type="hidden" id="id" value="@Model.ExamId" />

        @Html.HiddenFor(model => model.ExamId)
        @Html.HiddenFor(model => model.ClassNumber)
        @Html.HiddenFor(model => model.TermNumber)


        <div class="row">
            <div class="col-xs-12">
                <div class="table-header">
                    <button class="btn btn-sm btn-primary" style="width:80px" onclick="return submitForm()" type="submit">
                        Delete
                    </button>
                </div>

                <table class="table table-striped table-bordered table-hover">
                    <tbody>
                        <tr>
                            <th>
                                @Html.DisplayName("Exam Name")
                            </th>

                            <th>
                                @Html.DisplayName("Start Date")
                            </th>
                            <th>
                                @Html.DisplayName("End Date")
                            </th>


                        <tr>
                            <td>
                                @Html.DisplayFor(model => model.ExamName)
                            </td>

                            <td>
                                @if (Model.StartDate.HasValue)
                                {
                                    @Model.StartDate.Value.ToString("dd-MMM-yyyy")
                                }

                            </td>
                            <td>
                                @if (Model.EndDate.HasValue)
                                {
                                    @Model.EndDate.Value.ToString("dd-MMM-yyyy")
                                }
                            </td>


                        </tr>
                    </tbody>
                </table>

            </div>
        </div>
    }
</section>


<script>

    function submitForm() {
        var valid = true;

        var Id = $('#id').val();

        if (Id > 0) {
            $.ajax({

                url: '/AExamination/ValidationForExamSchedulesD',
                data: { id: Id },
                success: function (data) {
                    if (data != "") {
                        document.getElementById('Validation').innerHTML = data;
                        valid = false;
                    }
                },
                async: false
            })
        }

        return valid;
    }



</script>


