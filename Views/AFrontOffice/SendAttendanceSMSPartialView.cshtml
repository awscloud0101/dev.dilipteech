@model List<AsteriskBrowserAL.Models.AttendanceData>

<div class="hr hr-18 dotted hr-double"></div>


@if (null != Model && Model.Count() > 0)
{
    int nsno = 1;


    <div class="table-header">
        Records Found (@Model.Count)

        <div style="float:right;">
            <button type="submit" class="btn btn-info btn-minier P2" name="button" id="Save" value="Save">
                Send
            </button>
        </div>
    </div>

    <table class="table tbhover table-striped table-bordered dynamic-table" style="font-size:14px;">
        <thead>
            <tr>
                <th>
                   S.No.
                </th>
                <th>
                    @Html.DisplayName("Student Name")
                </th>
                <th>
                    <input type="checkbox" id="Selectall" />   @Html.DisplayName("Select")
                </th>
            </tr>
        </thead>
        <tbody>

            @for (int i = 0; i < Model.Count(); i++)
                            {
                            <tr>
                                <td>
                                    @Html.Hidden("lstStudents.Index", (@i + 10))
                                    @Html.Hidden("lstStudents[" + (@i + 10) + "].DisplayName", Model.ElementAt(i).DisplayName)
                                    @(nsno++)
                                </td>
                                <td>
                                    @Html.Hidden("lstStudents[" + (@i + 10) + "].StudentId", Model.ElementAt(i).StudentId)
                                    @Model.ElementAt(i).DisplayName
                                </td>

                                <td>
                                    @Html.CheckBox("lstStudents[" + (@i + 10) + "].IsForReport", Model.ElementAt(i).IsForReport, new { id = "Check" })
                                </td>
                            </tr>
                            }
        </tbody>
    </table>
}
else
{
    <span style="color: red;"><b>No absenties found</b></span>
}

<script>
    $('#Selectall').change(function () {
        if ($(this).prop('checked')) {
            $('tbody tr td #Check').each(function () {
                $(this).prop('checked', true);
            });
        } else {
            $('tbody tr td #Check').each(function () {
                $(this).prop('checked', false);
            });
        }
    });
</script>

