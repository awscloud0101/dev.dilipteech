@model List<AsteriskBrowserAL.Models.StaffAttendanceRegister>
@{
    ViewBag.Title = "StaffAttendanceByBranch";
    var Sno = 1;
}



@section BreadCrumb{

    <ul class="breadcrumb">
        <li>
            <i class="menu-icon fa fa-group"></i>
            HR
        </li>
        <li>
            <i class=""></i>
            Reports
        </li>
        <li class="active">Staff Attendance Analysis</li>
    </ul><!-- /.breadcrumb -->
}


<link href="http://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel="stylesheet">
<!-- CSS -->
<style>
    .ui-widget-header, .ui-state-default, ui-button {
        background: #3c8dbc;
        border: 1px solid #3c8dbc;
        color: #3c8dbc;
        font-weight: bold;
    }


    .table-fixed thead {
        width: 97%;
    }

    .table-fixed tbody {
        height: 230px;
        overflow-y: auto;
        width: 100%;
    }

    .table-fixed thead, .table-fixed tbody, .table-fixed tr, .table-fixed td, .table-fixed th {
        display: block;
    }

        .table-fixed tbody td, .table-fixed thead > tr > th {
            float: left;
            border-bottom-width: 0;
        }
</style>
<section class="content">
   

    <div class="row">
        <div class=col-xs-12>
            @using (Html.BeginForm("ExportEmployeeAttendanceReport", "HRReports", FormMethod.Post))
            { 
            if ((null != Model))
            {
                if (Model.Count() > 0)
                {
                        <span id="Validation" style="color:red;font-weight:bold"></span>
                 
          
             

                        <div class="table-header">
                            Staff Attendance - Day wise
                            <div style="float:right;margin-right:10px;">
                               <div>
                                   <button class="btncustom P2" type="submit">
                                       Download

                                   </button>
                               </div>
                          
                            </div>
                            <div class="textheader" style="float:right;margin-right:10px;">
                                @Html.ActionLink("Back to details", "StaffAttendanceAnalysisReport", new { DivisionId = ViewBag.DivisionId, SubId = ViewBag.BranchId, Date = ViewBag.Date })
                            </div>
                        </div>

                        <div style="overflow:auto;height:400px">
                            <table class="table tbhover table-striped table-bordered dynamic-table" style="font-size:14px;">
                                <thead>
                                    <tr>

                                        <th>
                                           S.No.
                                        </th>
                                        <th>
                                            @Html.DisplayName("Staff")
                                        </th>
                                        <th>
                                            @Html.DisplayName("Status")
                                        </th>
                                        <th>
                                            @Html.DisplayName("In Time")
                                        </th>
                                        <th>
                                            @Html.DisplayName("Out Time")
                                        </th>

                                    </tr>
                                </thead>
                                <tbody>
                                    @for (int i = 0; i < Model.Count(); i++)
                                    {
                                        <tr>

                                            <td>
                                                @Sno
                                            </td>

                                            <td>
                                                @Model.ElementAt(i).Name
                                            </td>
                                            <td>

                                                @if (Model.ElementAt(i).IsManual == true)
                                                {
                                                    <span style="color:orangered">@Model.ElementAt(i).AttendanceStatus</span>
                                                }
                                                else
                                                {
                                                    @Model.ElementAt(i).AttendanceStatus
                                                }

                                            </td>
                                            <td>
                                                @Model.ElementAt(i).InTime
                                            </td>
                                            <td>
                                                @Model.ElementAt(i).OutTime
                                            </td>


                                        </tr>
                                        Sno++;
                                    }
                                </tbody>
                            </table>
                        </div>
                    }
                    else
                    {
                        <span style="color: red;"><b>Data not available</b></span>
                    }
                }
                else
                {
                    <span style="color: red;"><b>Data not available</b></span>
                }

            }
        </div>
    </div>

</section>

@Html.Action("DataTableScripts", "Base", new { IsPaging = false })




<script type="text/javascript">

    function submitform() {
        $.ajax({
            url: '/HRBiometric/BiometrcAttendanceReport',
            data: {},
            success: function (result) {
            }
        })
    };

    //$('#btnExport').click(function () {
    //    window.location.href = "/AReports/ExcelBiometrcAttendanceReportDT"
    //    var Data = $("#AttendanceTable").html();
    //});

    function isNumberKey(evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode

        if (charCode == 46 || charCode == 65)
            return true;

        if (charCode > 31 && (charCode < 48 || charCode > 57))
            return false;

        return true;
    }
</script>
