@model List<AsteriskBrowserAL.Models.ApproveBankDepositViewModel>
@{
    var Status = "";
    ViewBag.Title = "Approve Bank Deposit Correction";
}
@*<style>
        .red {
            color: red;
        }

        .hideScrolling {
            overflow: hidden;
            height: 450px;
        }

            .hideScrolling:hover {
                overflow: auto;
            }
    </style>*@


@if (Model != null && Model.Count > 0)
{
    int nsno = 1;


    <div class="table-header">
        Records Found (@Model.Count())
    </div>
    <div class="overflowscroll" style="height:300px">

        <table class="table tbhover table-striped table-bordered dynamic-table" style="font-size:14Px">
            <thead>
                <tr>
                    <th>
                        S.No.
                    </th>
                    <th>
                        @Html.DisplayName("Branch Name")
                    </th>
                    <th>
                        @Html.DisplayName("Collection Date")
                    </th>
                    <th>
                        @Html.DisplayName("Bank Name")
                    </th>
                    <th>
                        @Html.DisplayName("Person Name")
                    </th>

                    <th>
                        @Html.DisplayName("Old Cash Amount")
                    </th>
                    <th>
                        @Html.DisplayName("Old Cheque Amount")
                    </th>

                    <th>
                        @Html.DisplayName("Cash Amount")
                    </th>
                    <th>
                        @Html.DisplayName("Cheque Amount")
                    </th>
                    <th>
                        @Html.DisplayName("Remarks")
                    </th>
                    <th>
                        @Html.DisplayName("Request Type")
                    </th>
                    <th>
                        @Html.DisplayName("Status")
                    </th>
                </tr>

            </thead>
            <tbody>

                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @(nsno++)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.BranchName)
                        </td>
                        <td>
                            @item.DepositDate.ToString("dd-MMM-yyyy hh:mm tt")
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.BankName)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.PersonName)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.OldCashAmount)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.OldChequeAmount)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.CashAmount)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.ChequeAmount)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Remarks)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.DisplayRequestStatus)
                        </td>

                        <td>
                            @if (item.Actionstatus == 0)
                            {
                                Status = "Pending";
                            }
                            @if (item.Actionstatus == 1)
                            {
                                Status = "Accepted";
                            }
                            @if (item.Actionstatus == 2)
                            {
                                Status = "Rejected";
                            }

                            @Html.DisplayName(Status)
                        </td>

                        @if (item.Actionstatus == 0)
                    {
                            <td>
                                <a role="button" id="lnkApprove" onclick="ApproveBD(@item.ApproveBankDepositId, @item.SubscriptionId,1,@item.RequestType)">Approve</a>
                            </td>
                            <td>
                                |
                            </td>
                            <td>
                                <a role="button" id="lnkRejecty" onclick="ApproveBD(@item.ApproveBankDepositId, @item.SubscriptionId,2,@item.RequestType)">Reject</a>
                            </td>
                        }
                    </tr>
                }
            </tbody>
        </table>
    </div>


}
else
{
    <span style="color:red;font-weight:bold">Data is not available</span>
}


@Html.Action("DataTableScripts", "Base", new { Ispaging = false, allowscroll = true, Height = "600px" })

