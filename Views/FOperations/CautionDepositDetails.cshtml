@model AsteriskBrowserAL.Models.CautionDepositDataModel
@{
    ViewBag.Title = "Caution Deposit Details";
    int nSno = 1;
}
@section BreadCrumb{

    <ul class="breadcrumb">
        <li>
            <i class="menu-icon fa fa-money"></i>
            Finance
        </li>
        <li>
            <i class=""></i>
            Operations
        </li>
        <li class="active">Caution Deposit Payment Details</li>
    </ul><!-- /.breadcrumb -->
}
<br />
<section class="content">
    <div class="row">
        @if (null != Model)
        {
            <div class="page-header">
                <br />
                <h1>
                    <small style="float:right;">
                        @Html.ActionLink("Back to details", "CautionDeposit", new { BatchId = (Model.SectionId > 0) ? Model.SectionId : 0 })
                    </small>
                </h1>
            </div><!-- /.page-header -->


            @*<h3>@Html.ActionLink("<< Caution Deposit Details", "CautionDeposit", new { BatchId = (Model.BatchId > 0) ? Model.BatchId : 0 })</h3>*@

            if (null != Model.StudentName && null != Model.BatchName)
            {
                <div align="center" style="font-weight:bold;">@(Model.StudentName + " " + Model.BatchName)</div>
            }


            <div class="table-header">
                Caution Deposit Payment Details
                @*<input class="btn btn-primary" style="width:80px" type="button" value="Print " onclick="PrintElem('#mydiv')" />*@
                <div title="Print" class="inline action-buttons" style="float:right">
                    <a value="Print " onclick="PrintElem('#mydiv')" class="btn btn-info btn-minier">
                        <i class="fa fa fa-print bigger-160"></i>
                    </a>
                </div>
            </div><!-- /.box-header -->
            <table class="table tbhover table-striped table-bordered dynamic-table">

                <tr>
                    <th>
                        @Html.DisplayName("SNo")
                    </th>
                    <th>
                        @Html.DisplayName("Transaction Date")
                    </th>
                    <th>
                        @Html.DisplayName("Amount")
                    </th>
                    <th>
                        @Html.DisplayName("Status")
                    </th>
                    <th>
                        @Html.DisplayName("Receipt No")
                    </th>
                    <th>
                        @Html.DisplayName("Remarks")
                    </th>
                </tr>
                @foreach (var item in Model.lstCDDataByStudentId)
                {
                    <tr>
                        <td>
                            @(nSno++)
                        </td>
                        <td>
                            @if (item.FirstInserted.HasValue)
                            {
                                @item.FirstInserted.Value.ToString("dd - MMM - yyyy")
                            }
                        </td>
                        <td>
                            @item.Amount
                        </td>
                        <td>
                            @item.Status
                        </td>
                        <td>
                            @item.DisplayReceiptNo
                        </td>
                        <td>
                            @item.Remarks
                        </td>
                    </tr>
                }
            </table>
        }
        else
        {
            <span style="color:red">Data not available to display</span>
        }
    </div>
</section>
<script type="text/javascript">
    function PrintElem(elem) {
        Popup($(elem).html());
    }

    function Popup(data) {
        var mywindow = window.open('', 'my div', 'height=300,width=600');
        mywindow.document.write('<p></p>');
        mywindow.document.write(data);
        mywindow.document.write('<p></p>');

        mywindow.document.close();
        mywindow.focus();

        mywindow.print();
        mywindow.close();
        return true;
    }
</script>
<body>
    <div id="mydiv" style="display:none">
        @if (null != Model)
        {
            int Sno = 1;

            <div class="row">
                <div class="col-xs-12">
                    <img class=" col-xs-11" id="avatar" width="50" height="43" src="@ViewBag.ImageData" style="margin-bottom:-1.5em;" />
                    <b style="font-weight:bold; margin-left:0.3em; font-size:20px; font-family:'Segoe UI'">@ViewBag.InstituteName</b>
                </div>
                <div style="margin-left:3.7em; font-family:'Segoe UI'"><b>@ViewBag.InstituteAddres</b></div>
                <br />

                <hr style="width:100%; margin-bottom:-0.5em" />
                <hr style="width:100%;" />
                <div align="center" style="font:12%; font-family:'Segoe UI'"><b>CAUTION DEPOSIT PAYMENTS</b></div>
                <hr style="width:100%;" />
                <hr style="width:100%; margin-top:-0.5em" />

                <div align="center" style="font-weight:bold; margin-left:0.4em; font-family:'Segoe UI'; font-size:14px;"><b>@(Model.StudentName+" "+Model.BatchName)</b></div>
                <hr style="width:100%;" />

                <div class="col-xs-12 box-body table-responsive">
                    <table class="table table-hover" rules="rows" cellpadding="5" style="width:675px; font-size:12px;">

                        <tbody>
                            <tr style="font-size:13px; font-family:'Segoe UI'; font-weight:bold; text-align:left;">

                                <th>
                                    @Html.DisplayName("SNo")
                                </th>
                                <th>
                                    @Html.DisplayName("Transaction Date")
                                </th>
                                <th>
                                    @Html.DisplayName("Amount")
                                </th>
                                <th>
                                    @Html.DisplayName("Status")
                                </th>
                                <th>
                                    @Html.DisplayName("Receipt No")
                                </th>
                                <th>
                                    @Html.DisplayName("Remarks")
                                </th>


                            </tr>
                            @foreach (var item in Model.lstCDDataByStudentId)
                            {
                                <tr style="font-family:'Segoe UI';">
                                    <td>
                                        @(Sno++)
                                    </td>
                                    <td>
                                        @if (item.FirstInserted.HasValue)
                                        {
                                            @item.FirstInserted.Value.ToString("dd - MMM - yyyy")
                                        }
                                    </td>
                                    <td>
                                        @item.Amount
                                    </td>
                                    <td>
                                        @item.Status
                                    </td>
                                    <td>
                                        @item.DisplayReceiptNo
                                    </td>
                                    <td>
                                        @item.Remarks
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        }
    </div>
</body>


