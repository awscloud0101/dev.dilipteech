@model IEnumerable<AsteriskBrowserAL.Models.FeePaymentsData>
@{
    Layout = null;
}

<div id="divPaymentDialogue" style="display:none">
</div>




@if (null != Model && Model.Count() > 0)
{
    int nsno = 1;
    <div class="table-header">
        Records Found (@Model.Count())
    </div>

    @*<input type="hidden" name="SubscriptionId" id="hnSubscriptionId" value="@ViewBag.SubscriptionId" />*@

    <div class="overflowscroll">

        <table class="table tbhover table-striped table-bordered dynamic-table" style="font-size:14px;">
            <thead>
                <tr>
                    <th>
                        S.No.
                    </th>

                    <th>
                        @Html.DisplayName("Branch")
                    </th>

                    <th>
                        @Html.DisplayName("Student Name")
                    </th>

                    <th>
                        @Html.DisplayName("Receipt No")
                    </th>
                    <th>
                        @Html.DisplayName("From Particular")
                    </th>

                    <th>
                        @Html.DisplayName("Transaction Date")
                    </th>

                    <th>
                        @Html.DisplayName("Debit Amount")
                    </th>


                    <th>
                        @Html.DisplayName("Status")
                    </th>

                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>

                        <td>
                            @(nsno++)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.BranchName)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.StudentName)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.ReceiptNo)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.FeeParticularName)
                        </td>
                        <td>
                            @if (item.TransactionDate.HasValue)
                            {
                                @item.TransactionDate.Value.ToString("dd-MMM-yyyy")
                            }
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => item.DebitAmount)
                        </td>

                        <td>
                            @if (item.StatusId == 0)
                            {
                                <span class="label label-warning">Pending</span>
                            }
                            @if (item.StatusId == 1)
                            {
                                <span class="label label-success arrowed">Accepted</span>  @(" : ")@item.Remarks;
                            }
                            @if (item.StatusId == 2)
                            {
                                <span class="label label-danger arrowed-in">Rejected</span> @(" : ")@item.Remarks;
                            }
                        </td>
                        <td class="col-xs-2">
                            @if (item.StatusId == 0)
                    {
                                <a role="button" class="btn btn-white btn-success btn-sm btn-round" id="lnkApprove" onclick="ApproveBD(@item.FeeTransferId,@item.StudentId,@item.DebitAmount, @item.OnlineReceiptNo,@item.SubscriptionId,@item.FeeParticular,@item.TransacationType,@item.TemplateNumner,1, @item.ToFeeParicularId, @item.ToTransactionType)">Approve</a>
                                <a role="button" class="btn btn-white btn-danger btn-sm btn-round" id="lnkReject" onclick="ApproveBD(@item.FeeTransferId,@item.StudentId,@item.DebitAmount, @item.OnlineReceiptNo,@item.SubscriptionId,@item.FeeParticular,@item.TransacationType,@item.TemplateNumner,2,@item.ToFeeParicularId, @item.ToTransactionType)"><i class="ace-icon fa fa-times"></i>Reject</a>
                            }
                        </td>

                    </tr>
                }
            </tbody>
        </table>
    </div>
    @Html.Action("DataTableScripts", "Base")

}
else
{
    <span style="color: red;"><b>Data not available</b></span>
}


<script>





</script>



